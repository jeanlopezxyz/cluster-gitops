# Production values for helper-argocd chart
# Using GitHub repository and GitHub Pages Helm repository

# Global settings
global:
  namespace: openshift-gitops
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
      - ApplyOutOfSyncOnly=true
    retry:
      limit: 3
      backoff:
        duration: "30s"
        factor: 2
        maxDuration: "5m"

# AppProject configuration
appProject:
  enabled: true
  name: "operations"
  description: "OpenShift Day-2 Operations Project"
  sourceRepos:
    - "https://github.com/jeanlopezxyz/cluster-gitops.git"
    - "https://jeanlopezxyz.github.io/cluster-gitops/charts"
  destinations:
    - namespace: "*"
      server: "https://kubernetes.default.svc"
  clusterResourceWhitelist:
    - group: ""
      kind: "*"
    - group: "*"
      kind: "*"

# Applications configuration
applications:
  network:
    enabled: true
    syncWave: "4"
    chart:
      repoURL: https://github.com/jeanlopezxyz/cluster-gitops.git
      path: charts/network-nmstate
      targetRevision: charts
    destination:
      namespace: openshift-nmstate
    values:
      global:
        enabled: true
        syncwave: "1"
      helper-operator:
        global:
          syncwave: "1"
        operators:
          nmstate:
            enabled: true
            syncwave: "1"
            namespace:
              create: true
              name: "openshift-nmstate"
            operatorgroup:
              create: true
            subscription:
              operatorName: "kubernetes-nmstate-operator"
              channel: "stable"
              source: "redhat-operators"
              sourceNamespace: "openshift-marketplace"
              approval: "Automatic"
      nmstate:
        enabled: true
        name: "nmstate"
  
  timezone:
    enabled: true
    syncWave: "1"
    chart:
      repoURL: https://github.com/jeanlopezxyz/cluster-gitops.git
      path: charts/node-timezone
      targetRevision: charts
    destination:
      namespace: default
    values:
      global:
        enabled: true
      timezone:
        value: "America/Santiago"
  
  tuning:
    enabled: true
    syncWave: "2"
    chart:
      repoURL: https://github.com/jeanlopezxyz/cluster-gitops.git
      path: charts/node-tuning
      targetRevision: charts
    destination:
      namespace: default
    values:
      global:
        enabled: true
      tuning:
        enabled: true
  
  oauth:
    enabled: true
    syncWave: "3"
    chart:
      repoURL: https://github.com/jeanlopezxyz/cluster-gitops.git
      path: charts/cluster-oauth
      targetRevision: charts
    destination:
      namespace: default
    values:
      global:
        enabled: true
      oauth:
        enabled: true