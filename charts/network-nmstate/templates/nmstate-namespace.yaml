{{- if and .Values.global.enabled (index .Values "helper-operator" "operators" "nmstate" "enabled") (index .Values "helper-operator" "operators" "nmstate" "namespace" "create") }}
apiVersion: v1
kind: Namespace
metadata:
  name: {{ index .Values "helper-operator" "operators" "nmstate" "namespace" "name" }}
  labels:
    {{- include "network-nmstate.labels" . | nindent 4 }}
    app.kubernetes.io/component: nmstate-namespace
  annotations:
    {{- if index .Values "helper-operator" "operators" "nmstate" "syncwave" }}
    argocd.argoproj.io/sync-wave: {{ index .Values "helper-operator" "operators" "nmstate" "syncwave" | quote }}
    {{- else }}
    argocd.argoproj.io/sync-wave: {{ .Values.global.syncwave | quote }}
    {{- end }}
{{- end }}