---
# Display completion summary
# Red Hat Consulting

- name: Get ArgoCD route for summary
  kubernetes.core.k8s_info:
    api_version: route.openshift.io/v1
    kind: Route
    name: openshift-gitops-server
    namespace: "{{ argocd.namespace }}"
  register: argocd_route_summary

- name: Display completion summary
  ansible.builtin.debug:
    msg: |
      ========================================
      âœ… GitOps Bootstrap Complete!
      ========================================
      
      ğŸŒ ArgoCD Access:
        URL: https://{{ argocd_route_summary.resources[0].spec.host }}
        Username: admin (use OpenShift login)
      
      ğŸ“ Next Steps:
        1. Access ArgoCD UI
        {% if app_of_apps.enabled %}
        2. Monitor '{{ app_of_apps.name }}' application
        3. GitOps will automatically deploy Day-2 applications
        {% else %}
        2. Create Git repository with Day-2 configurations
        3. Deploy App of Apps pointing to Git repository
        {% endif %}
      
      ğŸ”„ GitOps Pattern:
        Ansible: âœ… GitOps bootstrap complete
        ArgoCD: ğŸ¯ Now manages all applications
      ========================================